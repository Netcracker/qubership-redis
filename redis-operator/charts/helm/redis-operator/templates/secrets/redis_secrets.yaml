{{- if ne (include "fromValuesThenEnvElseDefault" (dict "dotVar" .Values.dbaas.install "envVar" .Values.DBAAS_ENABLED "default" true )) "true" }}
 {{- if .Values.CLOUD_PUBLIC_HOST }}
 {{template "nosql.core.secret.internal" (dict "values" . "vltEnabled" .Values.vaultRegistration.enabled "vltPath" (printf "secret/nc-%s/%s/%s/%s#password" .Values.CLOUD_PUBLIC_HOST .Release.Namespace .Values.serviceAccountName .Values.dbaas.adapter.secretName) "secret" .Values.redis)}}
 {{ else }}
 {{template "nosql.core.secret.internal" (dict "values" . "vltEnabled" .Values.vaultRegistration.enabled "vltPath" .Values.vaultRegistration.path "secret" .Values.redis)}}
 {{ end }}
{{end}}